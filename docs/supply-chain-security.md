# Table of Contents

- [Purpose of Supply Chain Security](#purpose-of-supply-chain-security)  
- [Basic Principle](#basic-principle)  
- [Image Trust Model](#image-trust-model)  
  - [Allowed Sources](#allowed-sources)  
  - [Image Signing](#image-signing)  
  - [Enforcement at Kubernetes Level](#enforcement-at-kubernetes-level)  
- [SBOM Lifecycle](#sbom-lifecycle)  
  - [Purpose of SBOM](#purpose-of-sbom)  
  - [Generation](#generation)  
  - [Usage](#usage)  
- [Provenance](#provenance)  
  - [Purpose](#purpose)  
  - [Provenance and CI](#provenance-and-ci)  
- [CI → Deployment Connection](#ci--deployment-connection)  
- [Supply Chain and Threat Model](#supply-chain-and-threat-model)  
- [Supply Chain and Compliance](#supply-chain-and-compliance)  
- [Supply Chain Invariants](#supply-chain-invariants)  
- [Non-Goals of Supply Chain Security](#non-goals-of-supply-chain-security)  
- [Conclusion](#conclusion)

---

# Purpose of Supply Chain Security

`supply-chain-security.md` describes the **trust model for artifacts** entering the Kubernetes platform of Sovereign AI.

The document answers:
- which images can be trusted;
- how SBOMs are created and verified;
- how artifact provenance is validated;
- where the CI → deployment boundary lies.

The supply chain is a primary attack vector.  
Trust is **never implicit**.

---

# Basic Principle

Artifacts are **untrusted by default**.

Trust is granted only if:
- the source is known;
- integrity is verified;
- provenance is confirmed;
- admission policies are satisfied.

Lack of a signal ≠ trust.

---

# Image Trust Model

## Allowed Sources

Only images are admitted to the cluster if they are:
- from an allowlisted registry;
- owned by a known entity;
- tagged immutably or referenced by digest.

Public registries are **not trusted by default**.

---

## Image Signing

An image is considered valid if:
- it is signed with a trusted key;
- the signature is automatically verifiable;
- keys are centrally managed.

Unsigned images are **not deployed**.

---

## Enforcement at Kubernetes Level

Trust verification:
- occurs at the admission stage;
- blocks deployment before runtime;
- is independent of the development team.

Deployment without trust checks is **not possible**.

---

# SBOM Lifecycle

## Purpose of SBOM

SBOM:
- records the composition of the artifact;
- is used for vulnerability management;
- serves as part of compliance evidence.

SBOM is **an asset, not a report**.

---

## Generation

SBOM:
- is generated in CI;
- is bound to a specific image;
- is versioned alongside the artifact.

Manual generation is **not allowed**.

---

## Usage

SBOM is used:
- during admission checks;
- in incident response;
- for regulatory audits.

Absence of an SBOM is considered a **violation**.

---

# Provenance

## Purpose

Provenance verifies:
- where and how the artifact was built;
- which CI pipeline produced it;
- the originating source code.

It protects against tampering and replay attacks.

---

## Provenance and CI

Provenance:
- is generated by CI;
- is signed;
- travels together with the image.

CI without provenance is **not trusted**.

---

# CI → Deployment Trust Chain

Trust chain:

Source  
→ CI build  
→ SBOM  
→ Provenance  
→ Image signing  
→ Admission validation  
→ Runtime

Any break in the chain **blocks deployment**.

---

# Supply Chain and Threat Model

Main threats:
- poisoned images;
- dependency substitution;
- compromised CI;
- artifact replay.

Mitigated by:
- trust model;
- SBOM;
- provenance;
- admission enforcement.

See details: `docs/kubernetes-threat-model.md`

---

# Supply Chain and Compliance

Supply chain:
- provides evidence of origin;
- reduces audit scope;
- increases regulator trust.

SBOM and provenance are formal evidence.

See details: `docs/compliance-overview.md`

---

# Supply Chain Invariants

Never violated:
- no trust without signature;
- no deployment without provenance;
- no artifact without SBOM;
- no manual exceptions.

---

# Non-Goals of Supply Chain Security

The platform is not intended for:
- trusting the `latest` tag;
- manual image validation;
- implicit trust in CI;
- bypassing enforcement for speed.

---

# Summary

Supply chain security:
- makes artifact attacks visible;
- prevents silent compromise;
- links CI and Kubernetes into a unified chain;
- forms the foundation of trust in Sovereign AI.

If the origin of an artifact is unknown — it will not run.
